# pnpm (performant npm)

## pnpm이란?

pnpm(performant npm)은 npm과 yarn의 대안으로 개발된 패키지 매니저입니다. 기존 패키지 매니저들의 문제점을 해결하고자 만들어졌으며, 특히 디스크 공간 효율성과 설치 속도에서 뛰어난 성능을 보입니다.

## 주요 특징

### 1. 하드링크와 심볼릭 링크 활용
- **하드링크**: 같은 패키지의 여러 버전이 하나의 물리적 파일을 공유
- **심볼릭 링크**: node_modules 구조를 유지하면서 실제 파일은 중앙 저장소에서 관리
- 결과적으로 디스크 공간을 크게 절약

### 2. 빠른 설치 속도
- 패키지를 전역 저장소에 한 번만 다운로드
- 이후 설치 시에는 링크만 생성하므로 매우 빠름
- 네트워크 사용량도 현저히 감소

### 3. 엄격한 의존성 관리
- Phantom dependencies 문제 해결
- package.json에 명시되지 않은 의존성에 대한 접근 차단
- 더욱 예측 가능한 의존성 트리 구성

## npm과의 차이점

| 특성 | npm | pnpm |
|------|-----|------|
| 디스크 사용량 | 많음 | 적음 (하드링크 활용) |
| 설치 속도 | 보통 | 빠름 |
| node_modules 구조 | Flat | Nested (심볼릭 링크) |
| Phantom dependencies | 발생 가능 | 방지 |

## 설치 및 기본 사용법

```bash
# pnpm 설치
npm install -g pnpm

# 패키지 설치
pnpm install
pnpm add <package-name>
pnpm remove <package-name>

# 스크립트 실행
pnpm run <script-name>
```

## Workspace 지원

pnpm은 모노레포(monorepo) 환경에서 워크스페이스를 효율적으로 관리할 수 있습니다:

```yaml
# pnpm-workspace.yaml
packages:
  - 'packages/*'
  - 'apps/*'
```

## 장점과 단점

### 장점
- **디스크 공간 절약**: 중복 패키지 설치 방지
- **빠른 설치**: 링크 기반 설치로 속도 향상
- **보안 강화**: 엄격한 의존성 관리
- **모노레포 지원**: 워크스페이스 기능 내장

### 단점
- **학습 곡선**: 새로운 개념 이해 필요
- **호환성 이슈**: 일부 도구와의 호환성 문제 가능
- **디버깅 복잡성**: 심볼릭 링크로 인한 디버깅 어려움

## 결론

pnpm은 기존 패키지 매니저의 한계를 극복한 혁신적인 도구입니다. 특히 대규모 프로젝트나 모노레포 환경에서 그 진가를 발휘하며, 개발 팀의 생산성 향상에 크게 기여할 수 있습니다.
